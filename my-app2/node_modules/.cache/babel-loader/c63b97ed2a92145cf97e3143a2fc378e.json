{"ast":null,"code":"\"use strict\";\n\nexports.__esModule = true;\nexports.default = handleAction;\n\nvar _invariant = _interopRequireDefault(require(\"invariant\"));\n\nvar _isFunction = _interopRequireDefault(require(\"./utils/isFunction\"));\n\nvar _isPlainObject = _interopRequireDefault(require(\"./utils/isPlainObject\"));\n\nvar _identity = _interopRequireDefault(require(\"./utils/identity\"));\n\nvar _isNil = _interopRequireDefault(require(\"./utils/isNil\"));\n\nvar _isUndefined = _interopRequireDefault(require(\"./utils/isUndefined\"));\n\nvar _toString = _interopRequireDefault(require(\"./utils/toString\"));\n\nvar _constants = require(\"./constants\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction handleAction(type, reducer, defaultState) {\n  if (reducer === void 0) {\n    reducer = _identity.default;\n  }\n\n  var types = (0, _toString.default)(type).split(_constants.ACTION_TYPE_DELIMITER);\n  (0, _invariant.default)(!(0, _isUndefined.default)(defaultState), \"defaultState for reducer handling \" + types.join(', ') + \" should be defined\");\n  (0, _invariant.default)((0, _isFunction.default)(reducer) || (0, _isPlainObject.default)(reducer), 'Expected reducer to be a function or object with next and throw reducers');\n\n  var _ref = (0, _isFunction.default)(reducer) ? [reducer, reducer] : [reducer.next, reducer.throw].map(function (aReducer) {\n    return (0, _isNil.default)(aReducer) ? _identity.default : aReducer;\n  }),\n      nextReducer = _ref[0],\n      throwReducer = _ref[1];\n\n  return function (state, action) {\n    if (state === void 0) {\n      state = defaultState;\n    }\n\n    var actionType = action.type;\n\n    if (!actionType || types.indexOf((0, _toString.default)(actionType)) === -1) {\n      return state;\n    }\n\n    return (action.error === true ? throwReducer : nextReducer)(state, action);\n  };\n}","map":null,"metadata":{},"sourceType":"script"}